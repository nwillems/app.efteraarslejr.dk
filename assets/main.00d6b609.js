import"./index.0a3b8bd7.js";import{p as e,a,r as t,o,c as s,w as n,b as i,n as r,d,e as c,f as l,g as m,F as p,h as f,P as h,t as u,L as b,C as g,i as v,j as x,k as _,l as w}from"./vendor.af8da0f8.js";const y={props:["icon","to"]};e("data-v-7fef10a9");const k={class:"text-center"},P={class:"block h-8 text-3xl leading-8"},C={class:"block text-xs leading-none"};a(),y.render=function(e,a,c,l,m,p){const f=t("router-link");return o(),s(f,{to:c.to,class:"flex flex-grow items-center justify-center p-2 text-gray-500 hover:text-indigo-500"},{default:n((()=>[i("div",k,[i("span",P,[i("i",{class:r(["mdi",[c.icon]])},null,2)]),i("span",C,[d(e.$slots,"default",{},void 0,!0)])])])),_:3},8,["to"])},y.__scopeId="data-v-7fef10a9";const M={class:"flex w-full"},j=m("Handel"),I=m("Point"),T=m("Børs"),D=m("Kort"),V={setup:e=>(e,a)=>(o(),c("div",M,[l(y,{icon:"mdi-swap-horizontal",to:"/"},{default:n((()=>[j])),_:1}),l(y,{icon:"mdi-chart-line",to:"/stats"},{default:n((()=>[I])),_:1}),l(y,{icon:"mdi-bank",to:"/exchange"},{default:n((()=>[T])),_:1}),l(y,{icon:"mdi-map-marker",to:"/map"},{default:n((()=>[D])),_:1})]))};const z={class:"bg-white absolute bottom-0 w-full border-t border-gray-200 flex"},F={setup:e=>(e,a)=>{const s=t("router-view");return o(),c(p,null,[i("div",null,[l(s)]),i("div",z,[l(V)])],64)}};var A={teams:{"fe1ce263-87d9-4f70-ad5b-a196360b43b6":{team_name:"Aguirre"},"d7ea6423-f695-4fc1-b719-ab6adc76bd9b":{team_name:"Bates"},"9d10a6da-bbf8-4daa-95e3-4f5a9e88bd96":{team_name:"Carvajal"},"41057559-7a4a-48a8-ad0b-5d8d5d09a184":{team_name:"Douville"},"a7001d8d-0775-43ee-8854-e9bd0a2eb4e3":{team_name:"Fawcett"},"f6ae6f2f-7fed-401a-90c6-652f0f06edf0":{team_name:"Ghinsberg"},"d590e43c-1c99-48b1-9951-5bda67a7e1ae":{team_name:"Herndon"},"d485a92a-52c4-4e53-942d-4569341d453b":{team_name:"Quesada"},"f4f695e3-4b81-45f4-ab83-9fc90e1095e4":{team_name:"Langsdorff"},"89dbd30b-87a8-421c-89fa-36c3e0986d31":{team_name:"Maldonado"},"747d8b95-0db3-4359-a25d-7a8ae80c92cb":{team_name:"Orellana"},"72b8007f-1c0c-4284-a9a9-c74434596f72":{team_name:"Rondon"},"32daf948-0ea0-4bb1-9736-c7cdb19776ed":{team_name:"Spix"},"80d22c4a-403d-45f3-9125-1a02b6dd63e9":{team_name:"Tavares"},"859f504f-708d-4067-85ab-85ec3a8593ed":{team_name:"Ursua"},"f0c7d890-3a33-45dc-a935-05fab4d1e688":{team_name:"Wallace"},"bf60fc57-c838-4999-a86f-5f3b31dea8b6":{team_name:"Zahm"}},general:{}};const L={props:["team_name"],computed:{googleFormsUrl(){return`https://docs.google.com/forms/d/e/1FAIpQLSffXEWwxxLpVUwkNSEb5lQMP0fxpxF7LbVU_RIC3xGWn2t1ZQ/viewform?embedded=true&entry.857897558=${this.team_name}`}}},S=["src"];L.render=function(e,a,t,s,n,i){return o(),c("iframe",{src:i.googleFormsUrl,class:"w-screen h-googleframe",frameborder:"0",marginheight:"0",marginwidth:"0"},"Indlæser…",8,S)};const G={components:{LineChart:f.LineChart},data:()=>({stats:[],chart_options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Point udvikling"}}}}),computed:{accumulatedPoints(){console.log(this.stats);const e=this.stats.map((e=>e.Tidsstempel)),a=this.stats.map((e=>e.Points)).reduce(((e,a,t)=>[...e,a+(e[t-1]||0)]),[]);return console.log("labels",e,"data",a),{labels:e,datasets:[{label:"Point",data:a,borderColor:"#10B981",backgroundColor:"#6EE7B7"}]}},totalPoints(){return this.stats.reduce(((e,a)=>e+a.Points),0)}},props:["team_config"],methods:{fetchData(e,a){h.parse("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ_YWDM1AJ3ZSjPQ97zhy5ZuJpCot85QyhGVtydyh0YZMjZkjVPlP0IzTtZkSAqByDJ3vG121sWqqbu/pub?gid=1699889130&single=true&output=csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(t,o){console.log("Fetched data");var s=t.data;s=s.filter((e=>""!==e.Tidsstempel)).filter((a=>a["Dit Hold"]===e.team_name)),console.log(s),a(s)}})}},mounted:function(){console.log("mounted - fetching data"),this.fetchData(this.team_config,(e=>{this.stats=e}))}},W={class:"flex flex-col"},Z={class:"mx-auto"},B={class:"shadow-lg rounded-2xl w-36 p-4 bg-white dark:bg-gray-800"},H=i("div",{class:"header flex items-center"},[i("span",{class:"icon bg-green-500 p-2 h-4 w-4 rounded-full relative"},[i("p",{class:"text-white h-2 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},"P")]),i("p",{class:"text-md","text-gray-700":"","dark:text-gray-50":"","ml-2":""},"Point")],-1),Q={class:"stat flex flex-col justify-start"},J={class:"text-gray-800 text-4xl text-left dark:text-white font-bold my-4"};G.render=function(e,a,s,n,r,d){const m=t("LineChart");return o(),c("div",W,[i("div",Z,[i("div",null,[i("div",B,[H,i("div",Q,[i("p",J,u(d.totalPoints),1)])])])]),i("div",null,[l(m,{ref:"LineRef",chartData:d.accumulatedPoints,options:r.chart_options},null,8,["chartData","options"])])])};const N={};N.render=function(e,a){return" Exchange view "};var O={data:[{name:"Gummi - 1",coordinates:[55.9159912,11.9070377],description:"",opens:"",closes:""},{name:"Snor - 2",coordinates:[55.9194375,11.9082985],description:"",opens:"",closes:""},{name:"Perler - 3",coordinates:[55.9152547,11.908419],description:"",opens:"",closes:""},{name:"Blomsterpinde - 4",coordinates:[55.9165999,11.9059112],description:"",opens:"",closes:""},{name:"Fjer - 5",coordinates:[55.9146459,11.9138398],description:"",opens:"",closes:""},{name:"Olie - 6",coordinates:[55.9207122,11.9025637],description:"",opens:"",closes:""},{name:"Kobber - 7",coordinates:[55.9224196,11.9031431],description:"",opens:"",closes:""},{name:"Mel - 8",coordinates:[55.9236639,11.9048275],description:"",opens:"",closes:""},{name:"Krydderi - 9",coordinates:[55.9227382,11.9070269],description:"",opens:"",closes:""},{name:"Majs - 10",coordinates:[55.9143452,11.9085933],description:"her kan du få majs2",opens:16334712e5,closes:16334718e5},{name:"Salt - 11",coordinates:[55.9211571,11.9077672],description:"",opens:"",closes:""},{name:"Vat - 12",coordinates:[55.9173454,11.9094624],description:"",opens:"",closes:""},{name:"Tape - 13",coordinates:[55.9163174,11.9124342],description:"",opens:"",closes:""},{name:"Vand - 14",coordinates:[55.9175319,11.9046505],description:"",opens:"",closes:""},{name:"CRAFTING - 1",coordinates:[55.9154121,11.9104896],description:"",opens:"",closes:""},{name:"CRAFTING - 2",coordinates:[55.9185344,11.9071623],description:"",opens:"",closes:""},{name:"CRAFTING - 3",coordinates:[55.9220902,11.9050717],description:"",opens:"",closes:""},{name:"FOOD",coordinates:[55.9183029,11.9069923],description:"",opens:"",closes:""}]};const R=b.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd" />\n</svg>',className:"",iconSize:[20,20],iconAnchor:[10,20]}),E={name:"Map",data:()=>({center:[37,7749,-122,4194]}),methods:{setupLeafletMap:function(){const e=b.map("mapContainer",{center:[55.916999,11.911422],zoom:16,zoomControl:!1,dragging:!1});b.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data (c) <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",accessToken:"pk.eyJ1Ijoibml3aWw5MCIsImEiOiJja3VlaWtlMDYxNGRjMnJtdHhtNmVtbWppIn0.a6PxoSOQnb34xG9Zi6nxoA"}).addTo(e),b.marker([55.91380857362629,11.911055657606187],{title:"Jomsborg",icon:R}).addTo(e),this.mapDiv=e},setupPoster(){const e=this.mapDiv,a=Date.now(),t=O.data.filter((e=>e.opens<a&&e.closes>a));for(let o of t)b.marker(o.coordinates).addTo(e)}},mounted(){this.setupLeafletMap(),console.log(O),this.setupPoster()}};e("data-v-8bb45252");const U={id:"container"},Y=[i("div",{id:"mapContainer"},null,-1)];a(),E.render=function(e,a,t,s,n,i){return o(),c("div",U,Y)},E.__scopeId="data-v-8bb45252",g.register(...v);const q=(K=document.cookie,$="team_id",K.split("; ").find((e=>e.startsWith(`${$}=`))).split("=")[1]);var K,$;const X=A.teams[q],ee=[{path:"/",component:L,props:{team_name:X.team_name}},{path:"/stats",component:G,props:{team_config:X}},{path:"/exchange",component:N},{path:"/map",component:E}],ae=x({history:_(),routes:ee}),te=w(F);te.use(ae),te.mount("#app"),console.log(X);
