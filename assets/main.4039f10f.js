import"./index.aef1cd9e.js";import{p as t,a as e,r as o,o as s,c as a,w as n,b as i,n as r,d as c,e as d,f as l,g as p,F as m,h as u,P as h,t as f,L as g,C as v,i as x,j as b,k,l as P}from"./vendor.af8da0f8.js";const w={props:["icon","to"]};t("data-v-7fef10a9");const y={class:"text-center"},_={class:"block h-8 text-3xl leading-8"},C={class:"block text-xs leading-none"};e(),w.render=function(t,e,d,l,p,m){const u=o("router-link");return s(),a(u,{to:d.to,class:"flex flex-grow items-center justify-center p-2 text-gray-500 hover:text-indigo-500"},{default:n((()=>[i("div",y,[i("span",_,[i("i",{class:r(["mdi",[d.icon]])},null,2)]),i("span",C,[c(t.$slots,"default",{},void 0,!0)])])])),_:3},8,["to"])},w.__scopeId="data-v-7fef10a9";const j={class:"flex w-full"},M=p("Handel"),z=p("Point"),D=p("Børs"),I=p("Kort"),V={setup:t=>(t,e)=>(s(),d("div",j,[l(w,{icon:"mdi-swap-horizontal",to:"/"},{default:n((()=>[M])),_:1}),l(w,{icon:"mdi-chart-line",to:"/stats"},{default:n((()=>[z])),_:1}),l(w,{icon:"mdi-bank",to:"/exchange"},{default:n((()=>[D])),_:1}),l(w,{icon:"mdi-map-marker",to:"/map"},{default:n((()=>[I])),_:1})]))};const Z={class:"bg-white absolute bottom-0 w-full border-t border-gray-200 flex"},A={setup:t=>(t,e)=>{const a=o("router-view");return s(),d(m,null,[i("div",null,[l(a)]),i("div",Z,[l(V)])],64)}};var J={general:{trade_base_url:""},teams:{"fe1ce263-87d9-4f70-ad5b-a196360b43b6":{team_name:"Alfa",stats_url:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQ_YWDM1AJ3ZSjPQ97zhy5ZuJpCot85QyhGVtydyh0YZMjZkjVPlP0IzTtZkSAqByDJ3vG121sWqqbu/pubchart?oid=1138618257&amp;format=interactive"}}};const L={props:["team_name"],computed:{googleFormsUrl(){return`https://docs.google.com/forms/d/e/1FAIpQLSffXEWwxxLpVUwkNSEb5lQMP0fxpxF7LbVU_RIC3xGWn2t1ZQ/viewform?embedded=true&entry.857897558=${this.team_name}`}}},Q=["src"];L.render=function(t,e,o,a,n,i){return s(),d("iframe",{src:i.googleFormsUrl,class:"w-screen h-screen",frameborder:"0",marginheight:"0",marginwidth:"0"},"Indlæser…",8,Q)};const S={components:{LineChart:u.LineChart},data:()=>({stats:[],chart_options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Point udvikling"}}}}),computed:{accumulatedPoints(){console.log(this.stats);const t=this.stats.map((t=>t.Tidsstempel)),e=this.stats.map((t=>t.Points)).reduce(((t,e,o)=>[...t,e+(t[o-1]||0)]),[]);return console.log("labels",t,"data",e),{labels:t,datasets:[{label:"Point",data:e,borderColor:"#10B981",backgroundColor:"#6EE7B7"}]}},totalPoints(){return this.stats.reduce(((t,e)=>t+e.Points),0)}},props:["team_config"],methods:{fetchData(t,e){h.parse("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ_YWDM1AJ3ZSjPQ97zhy5ZuJpCot85QyhGVtydyh0YZMjZkjVPlP0IzTtZkSAqByDJ3vG121sWqqbu/pub?gid=1699889130&single=true&output=csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(o,s){console.log("Fetched data");var a=o.data;a=a.filter((t=>""!==t.Tidsstempel)).filter((e=>e["Dit Hold"]===t.team_name)),console.log(a),e(a)}})}},mounted:function(){console.log("mounted - fetching data"),this.fetchData(this.team_config,(t=>{this.stats=t}))}},T={class:"flex flex-col"},W={class:"mx-auto"},B={class:"shadow-lg rounded-2xl w-36 p-4 bg-white dark:bg-gray-800"},G=i("div",{class:"header flex items-center"},[i("span",{class:"icon bg-green-500 p-2 h-4 w-4 rounded-full relative"},[i("p",{class:"text-white h-2 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},"P")]),i("p",{class:"text-md","text-gray-700":"","dark:text-gray-50":"","ml-2":""},"Point")],-1),H={class:"stat flex flex-col justify-start"},q={class:"text-gray-800 text-4xl text-left dark:text-white font-bold my-4"};S.render=function(t,e,a,n,r,c){const p=o("LineChart");return s(),d("div",T,[i("div",W,[i("div",null,[i("div",B,[G,i("div",H,[i("p",q,f(c.totalPoints),1)])])])]),i("div",null,[l(p,{ref:"LineRef",chartData:c.accumulatedPoints,options:r.chart_options},null,8,["chartData","options"])])])};const E={};E.render=function(t,e){return" Exchange view "};var F={data:[{name:"Majs",coordinates:[55.9143392,11.9087328],description:"her kan du få majs2",opens:16334712e5,closes:16334718e5},{name:"Kobber",coordinates:[55.9153073,11.9085182],description:"",opens:"",closes:""},{name:"dfasdfa",coordinates:[55.9158664,11.9070162],description:"",opens:"",closes:""},{name:"ddd",coordinates:[55.916636,11.905997],description:"",opens:"",closes:""},{name:"Punkt 5",coordinates:[55.9172734,11.9048168],description:"",opens:"",closes:""},{name:"Punkt 6",coordinates:[55.9181451,11.9043554],description:"",opens:"",closes:""},{name:"Punkt 7",coordinates:[55.9193175,11.9030787],description:"",opens:"",closes:""},{name:"Punkt 8",coordinates:[55.9206221,11.9026388],description:"",opens:"",closes:""},{name:"Punkt 9",coordinates:[55.9215539,11.9024564],description:"",opens:"",closes:""},{name:"Punkt 10",coordinates:[55.9228343,11.9040014],description:"",opens:"",closes:""},{name:"Punkt 11",coordinates:[55.9229425,11.9049133],description:"",opens:"",closes:""},{name:"Punkt 12",coordinates:[55.9220227,11.9054713],description:"",opens:"",closes:""},{name:"Punkt 13",coordinates:[55.9219326,11.9072629],description:"",opens:"",closes:""},{name:"Punkt 14",coordinates:[55.920586,11.9077565],description:"",opens:"",closes:""},{name:"Punkt 15",coordinates:[55.9191431,11.9084324],description:"",opens:"",closes:""}]};const Y=g.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd" />\n</svg>',className:"",iconSize:[20,20],iconAnchor:[10,20]}),N={name:"Map",data:()=>({center:[37,7749,-122,4194]}),methods:{setupLeafletMap:function(){const t=g.map("mapContainer",{center:[55.916999,11.911422],zoom:16,zoomControl:!1,dragging:!1});g.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data (c) <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",accessToken:"pk.eyJ1Ijoibml3aWw5MCIsImEiOiJja3VlaWtlMDYxNGRjMnJtdHhtNmVtbWppIn0.a6PxoSOQnb34xG9Zi6nxoA"}).addTo(t),g.marker([55.91380857362629,11.911055657606187],{title:"Jomsborg",icon:Y}).addTo(t),this.mapDiv=t},setupPoster(){const t=this.mapDiv,e=Date.now(),o=F.data.filter((t=>t.opens<e&&t.closes>e));for(let s of o)g.marker(s.coordinates).addTo(t)}},mounted(){this.setupLeafletMap(),console.log(F),this.setupPoster()}};t("data-v-8bb45252");const U={id:"container"},O=[i("div",{id:"mapContainer"},null,-1)];e(),N.render=function(t,e,o,a,n,i){return s(),d("div",U,O)},N.__scopeId="data-v-8bb45252",v.register(...x);const R=(X=document.cookie,$="team_id",X.split("; ").find((t=>t.startsWith(`${$}=`))).split("=")[1]);var X,$;const K=J.teams[R],tt=[{path:"/",component:L,props:{team_name:K.team_name}},{path:"/stats",component:S,props:{team_config:K}},{path:"/exchange",component:E},{path:"/map",component:N}],et=b({history:k(),routes:tt}),ot=P(A);ot.use(et),ot.mount("#app"),console.log(K);
