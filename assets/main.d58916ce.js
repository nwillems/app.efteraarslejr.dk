import"./index.f747a8ca.js";import{p as e,a as t,r as s,o,c as a,b as n,w as r,d as i,e as c,F as d,f as l,P as p,t as m,L as u,C as h,g as f,h as g,i as v,j as b}from"./vendor.fd2638be.js";const x={};e("data-v-01933e40");const P={class:"h-20 flex flex-row bg-gradient-to-r from-indigo-400 via-indigo-500 to-blue-500"},w=i("Handel"),k=i("Point"),y=i("Børsen"),_=i("Kort");t(),x.render=function(e,t){const i=s("router-link");return o(),a("div",P,[n(i,{class:"flex-1 menu-btn",to:"/"},{default:r((()=>[w])),_:1}),n(i,{class:"flex-1 menu-btn",to:"/stats"},{default:r((()=>[k])),_:1}),n(i,{class:"flex-1 menu-btn",to:"/exchange"},{default:r((()=>[y])),_:1}),n(i,{class:"flex-1 menu-btn",to:"/map"},{default:r((()=>[_])),_:1})])},x.__scopeId="data-v-01933e40";const C={class:"pt-8"},M={class:"fixed h-20 top-0 w-screen"},j={setup:e=>(e,t)=>{const r=s("router-view");return o(),a(d,null,[c("div",C,[n(r)]),c("div",M,[n(x)])],64)}};var z={general:{trade_base_url:""},teams:{"fe1ce263-87d9-4f70-ad5b-a196360b43b6":{team_name:"Alfa",stats_url:"https://docs.google.com/spreadsheets/d/e/2PACX-1vQ_YWDM1AJ3ZSjPQ97zhy5ZuJpCot85QyhGVtydyh0YZMjZkjVPlP0IzTtZkSAqByDJ3vG121sWqqbu/pubchart?oid=1138618257&amp;format=interactive"}}};const D={props:["team_name"],computed:{googleFormsUrl(){return`https://docs.google.com/forms/d/e/1FAIpQLSffXEWwxxLpVUwkNSEb5lQMP0fxpxF7LbVU_RIC3xGWn2t1ZQ/viewform?embedded=true&entry.857897558=${this.team_name}`}}},I=["src"];D.render=function(e,t,s,n,r,i){return o(),a("iframe",{src:i.googleFormsUrl,class:"w-screen h-screen",frameborder:"0",marginheight:"0",marginwidth:"0"},"Indlæser…",8,I)};const V={components:{LineChart:l.LineChart},data:()=>({stats:[],chart_options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Point udvikling"}}}}),computed:{accumulatedPoints(){console.log(this.stats);const e=this.stats.map((e=>e.Tidsstempel)),t=this.stats.map((e=>e.Points)).reduce(((e,t,s)=>[...e,t+(e[s-1]||0)]),[]);return console.log("labels",e,"data",t),{labels:e,datasets:[{label:"Point",data:t,borderColor:"#10B981",backgroundColor:"#6EE7B7"}]}},totalPoints(){return this.stats.reduce(((e,t)=>e+t.Points),0)}},props:["team_config"],methods:{fetchData(e,t){p.parse("https://docs.google.com/spreadsheets/d/e/2PACX-1vQ_YWDM1AJ3ZSjPQ97zhy5ZuJpCot85QyhGVtydyh0YZMjZkjVPlP0IzTtZkSAqByDJ3vG121sWqqbu/pub?gid=1699889130&single=true&output=csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(s,o){console.log("Fetched data");var a=s.data;a=a.filter((e=>""!==e.Tidsstempel)).filter((t=>t["Dit Hold"]===e.team_name)),console.log(a),t(a)}})}},mounted:function(){console.log("mounted - fetching data"),this.fetchData(this.team_config,(e=>{this.stats=e}))}},Z={class:"flex flex-col"},A={class:"mx-auto"},J={class:"shadow-lg rounded-2xl w-36 p-4 bg-white dark:bg-gray-800"},L=c("div",{class:"header flex items-center"},[c("span",{class:"icon bg-green-500 p-2 h-4 w-4 rounded-full relative"},[c("p",{class:"text-white h-2 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},"P")]),c("p",{class:"text-md","text-gray-700":"","dark:text-gray-50":"","ml-2":""},"Point")],-1),Q={class:"stat flex flex-col justify-start"},S={class:"text-gray-800 text-4xl text-left dark:text-white font-bold my-4"};V.render=function(e,t,r,i,d,l){const p=s("LineChart");return o(),a("div",Z,[c("div",A,[c("div",null,[c("div",J,[L,c("div",Q,[c("p",S,m(l.totalPoints),1)])])])]),c("div",null,[n(p,{ref:"LineRef",chartData:l.accumulatedPoints,options:d.chart_options},null,8,["chartData","options"])])])};const T={};T.render=function(e,t){return" Exchange view "};var W={data:[{name:"Majs",coordinates:[55.9143392,11.9087328],description:"her kan du få majs2",opens:16334712e5,closes:16334718e5},{name:"Kobber",coordinates:[55.9153073,11.9085182],description:"",opens:"",closes:""},{name:"dfasdfa",coordinates:[55.9158664,11.9070162],description:"",opens:"",closes:""},{name:"ddd",coordinates:[55.916636,11.905997],description:"",opens:"",closes:""},{name:"Punkt 5",coordinates:[55.9172734,11.9048168],description:"",opens:"",closes:""},{name:"Punkt 6",coordinates:[55.9181451,11.9043554],description:"",opens:"",closes:""},{name:"Punkt 7",coordinates:[55.9193175,11.9030787],description:"",opens:"",closes:""},{name:"Punkt 8",coordinates:[55.9206221,11.9026388],description:"",opens:"",closes:""},{name:"Punkt 9",coordinates:[55.9215539,11.9024564],description:"",opens:"",closes:""},{name:"Punkt 10",coordinates:[55.9228343,11.9040014],description:"",opens:"",closes:""},{name:"Punkt 11",coordinates:[55.9229425,11.9049133],description:"",opens:"",closes:""},{name:"Punkt 12",coordinates:[55.9220227,11.9054713],description:"",opens:"",closes:""},{name:"Punkt 13",coordinates:[55.9219326,11.9072629],description:"",opens:"",closes:""},{name:"Punkt 14",coordinates:[55.920586,11.9077565],description:"",opens:"",closes:""},{name:"Punkt 15",coordinates:[55.9191431,11.9084324],description:"",opens:"",closes:""}]};const B=u.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 20 20" fill="currentColor">\n  <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd" />\n</svg>',className:"",iconSize:[20,20],iconAnchor:[10,20]}),G={name:"Map",data:()=>({center:[37,7749,-122,4194]}),methods:{setupLeafletMap:function(){const e=u.map("mapContainer",{center:[55.916999,11.911422],zoom:16,zoomControl:!1,dragging:!1});u.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data (c) <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",accessToken:"pk.eyJ1Ijoibml3aWw5MCIsImEiOiJja3VlaWtlMDYxNGRjMnJtdHhtNmVtbWppIn0.a6PxoSOQnb34xG9Zi6nxoA"}).addTo(e),u.marker([55.91380857362629,11.911055657606187],{title:"Jomsborg",icon:B}).addTo(e),this.mapDiv=e},setupPoster(){const e=this.mapDiv,t=Date.now(),s=W.data.filter((e=>e.opens<t&&e.closes>t));for(let o of s)u.marker(o.coordinates).addTo(e)}},mounted(){this.setupLeafletMap(),console.log(W),this.setupPoster()}};e("data-v-8bb45252");const H={id:"container"},q=[c("div",{id:"mapContainer"},null,-1)];t(),G.render=function(e,t,s,n,r,i){return o(),a("div",H,q)},G.__scopeId="data-v-8bb45252",h.register(...f);const E=(F=document.cookie,Y="team_id",F.split("; ").find((e=>e.startsWith(`${Y}=`))).split("=")[1]);var F,Y;const N=z.teams[E],U=[{path:"/",component:D,props:{team_name:N.team_name}},{path:"/stats",component:V,props:{team_config:N}},{path:"/exchange",component:T},{path:"/map",component:G}],O=g({history:v(),routes:U}),R=b(j);R.use(O),R.mount("#app"),console.log(N);
